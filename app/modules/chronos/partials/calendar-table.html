<div class="time-line"></div>
<table>
    <tr>
        <th></th>
        <th ng-repeat="day in days">{{day | date: "dd-MM-yyyy (EEEE)"}}
            <div>
                <i class="icon-plus-circled"></i>
                <i class="icon-comment"></i>
            </div>
        </th>
    </tr>
    <tr ng-repeat="hour in _.range(0,24)">
        <td>{{hour}}:00</td>
        <td ng-repeat="day in days" id="{{day.toString('yyyy-MM-dd')}}">
            <div ng-repeat="quarter in [0,15,30,45]"
                 id="{{day.toString('yyyy-MM-dd')}} {{hour}}:{{quarter}}"
                 drop-channel="dndDayChannel"
                 ui-on-drop="dndDrop($event, $data, day, hour, quarter)"
                    >
                <calendar-table-event
                        ng-repeat="event in getEvents(day,hour, quarter)"
                        class="event {{event.location.color}}" style="height:100px"
                        event="event"
                        ui-resizable
                        ui-on-resize="dndChangeTime($event, $ui, event)"
                        ui-draggable="true"
                        drag="event"
                        drag-channel="dndDayChannel"
                        >
                    <div class="time">
                        <div class="action">
                            <a class="delete" ng-click="cancelEvent(event)" ng-show="actions().canCancel(event)">
                                <i class="icon-trash"></i>
                            </a>
                        </div>
                        {{event.start | date: "HH:mm"}} - {{event.end | date: "HH:mm"}}
                    </div>
                    <div class="describe" ng-click="editEvent(event)">
                        <strong>{{event.title}}</strong><br/>
                        {{event.description}}
                    </div>
                </calendar-table-event>
                <div ng-click="addEvent(day, hour, quarter)">&nbsp;</div>
            </div>
        </td>
    </tr>
</table>