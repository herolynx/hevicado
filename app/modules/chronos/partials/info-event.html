<div class="content">
    <div class="title-page">
        <h1 translate>visit.visit</h1>
    </div>
    <section class="calendar">
        <div class="details-info-event" ng-controller="DisplayEventCtrl">
            <div class="box">
                <h2>
                    <i class="icon-calendar"></i>
                    {{event.start | dateFormat}} ({{event.start | dateFormat: "dddd" | normalizeText}})
                    <br/>
                    {{event.start | date: "HH:mm"}} - {{event.end | date: "HH:mm"}}
                </h2>

                <div class="notes">
                    <form>
                        <ul>
                            <li ng-show="event.cancelled != undefined">
                                <div class="half" translate>
                                    visit.visit-cancelled
                                </div>
                            </li>
                            <li>
                                <label class="full"><b>{{'visit.doctor' | translate}}:</b></label>

                            </li>
                            <li>
                                <label class="full">{{'visit.full-name' | translate}}:</b></label>
                                <fieldset class="full">
                                    {{event.doctor | userInfo:'withDegree'}}
                                </fieldset>
                            </li>
                            <li>
                                <div class="half">
                                    <label class="full">{{'visit.address' | translate}}: </label>
                                    <fieldset class="full">
                                        {{event.location.name}} <br/>
                                        {{event.location.address | addressInfo}}
                                    </fieldset>
                                </div>
                            </li>
                            <li>
                                <div class="half">
                                    <label class="full">{{'user-profile.phone' | translate}}</label>
                                    <fieldset class="full">
                                        {{event.doctor.phone}}
                                    </fieldset>
                                </div>
                            </li>
                            <li>
                                <div class="half">
                                    <label class="full">{{'generic.email' | translate}}:</label>
                                    <fieldset class="full">
                                        <a href="mailto:{{event.doctor.email}}">{{event.doctor.email}}</a>
                                    </fieldset>
                                </div>
                            </li>
                            <li>
                                <div class="half">
                                    <label class="full"><b>{{'visit.examination' | translate}}:</b></label>
                                </div>
                            </li>
                            <li>
                                <div class="half">
                                    <label class="full">{{'visit.title' | translate}}:</label>
                                    <fieldset class="full">
                                        {{event.title | label:'templates' | translate}}
                                    </fieldset>
                                </div>
                            </li>
                            <li>
                                <div class="half">
                                    <label class="full top">{{'generic.description' | translate}}:</label>
                                    <fieldset class="full">
                                        {{event.description}}
                                    </fieldset>
                                </div>
                            </li>
                            <li>
                                <div class="half">
                                    <label class="full"><b>{{'visit.patient' | translate}}:</b></label>
                                </div>
                            </li>
                            <li>
                                <div class="half">
                                    <label class="full">{{'visit.full-name' | translate}}:</label>
                                    <fieldset class="full">
                                        {{event.patient | userInfo}}
                                    </fieldset>
                                </div>
                            </li>
                            <li>
                                <div class="half">
                                    <label class="full">{{'user-profile.phone' | translate}}:</label>
                                    <fieldset class="full">
                                        {{event.patient.phone}}
                                    </fieldset>
                                </div>
                            </li>
                            <li>
                                <div class="half">
                                    <label class="full">{{'generic.email' | translate}}:</label>
                                    <fieldset class="full">
                                        <a href="mailto:{{event.patient.email}}">{{event.patient.email}}</a>
                                    </fieldset>
                                </div>
                            </li>
                            <li>
                                <label class="full"></label>
                                <fieldset class="full">
                                    <button class="btn blue rt"
                                            ng-show="options.actions().canCancel(event)"
                                            ng-click="options.cancel(event)"
                                            translate>
                                        visit.cancel-visit
                                    </button>
                                </fieldset>
                            </li>
                            <!--TODO add colors, -->
                        </ul>
                    </form>
                </div>
            </div>
            <div class="box maps-address">
                <h2><i class="icon-map"></i> {{'visit.location' | translate}}</h2>

                <div class="maps">
                    <google-map address="event.location.address" title="event.location.name"/>
                </div>
                <div class="address">
                    <h2>{{event.location.name}}</h2>
                    {{event.location.address.street}}, {{event.location.address.city}},
                    {{event.location.address.country}}
                    <div class="row hour">
                        <h2>{{'visit.open-hours' | translate}}:</h2>

                        <p>

                        <div ng-repeat="working in event.location.working_hours">
                            <span>{{'days.' + working.day | toLowerCase | translate}}:</span>
                            {{working.start | toLocalHours}} - {{working.end | toLocalHours}}<br/>
                        </div>
                        </p>
                    </div>

                </div>
            </div>
        </div>
    </section>
</div>